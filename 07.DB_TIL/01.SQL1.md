# SQL1 TIL

## 1) 데이터와 데이터베이스를 먼저 “그림”으로 이해해야 한다

**데이터**는 저장하거나 처리하기 위해 변환된 정보라고 보면 된다. 숫자/문자/날짜 같은 값들이 모여 “의미”를 가진 상태가 데이터다.
**데이터베이스(Database)**는 그 데이터를 “체계적으로 모아두는 저장소”다. 파일처럼 흩어져 있으면 관리가 어렵고, 서로 연결해서 쓰기도 어렵기 때문에 데이터베이스라는 형태로 정리해 둔다.

데이터베이스가 하는 핵심 역할은 결국 **CRUD**다.

* Create(생성), Read(조회), Update(수정), Delete(삭제)로 데이터를 저장하고 조작한다.

---

## 2) 관계형 데이터베이스는 “표(테이블) + 연결(관계)”로 생각하면 된다

관계형 데이터베이스(Relational Database)는 데이터를 **테이블(표)** 형태로 저장하고, 테이블들 사이를 **관계(연결)** 로 묶어서 의미를 만든다.

예를 들어,

* 고객 테이블(고객 id, 이름, 주소지 …)
* 주문 테이블(주문 id, 주문일, 고객 id …)

처럼 **주문이 어떤 고객의 주문인지**를 “고객 id”로 연결한다. 이런 식으로 여러 테이블이 논리적으로 연결되어 데이터가 확장되고, 중복이 줄어든다.

---

## 3) 관계형 DB의 필수 단어 6개를 정확히 잡아야 한다

관계형 DB를 공부할 때는 아래 6개 단어가 뼈대다. (이걸 제대로 잡으면 JOIN, 정규화도 훨씬 쉬워진다.)

### (1) Table(테이블)

* 데이터를 기록하는 “표”다. 행과 열로 구성된다.

### (2) Field / Column(필드/컬럼)

* 테이블의 “열”이다. 한 가지 속성(예: name, city)을 의미한다.

### (3) Record / Row(레코드/로우)

* 테이블의 “행”이다. 한 개체(예: 고객 1명)의 데이터 묶음이다.

### (4) Database / Schema(데이터베이스/스키마)

* 테이블들을 담는 “그릇”이고, 스키마는 구조(설계) 관점으로 이해하면 된다.

### (5) Primary Key(PK, 기본 키)

* 한 레코드를 **유일하게 식별**하는 값이다.
* “중복되면 안 되고”, “비어있으면 안 되는” 성격을 가진다고 이해하는 게 핵심이다.

### (6) Foreign Key(FK, 외래 키)

* 다른 테이블의 PK를 참조해서 **테이블 간 관계를 만드는 열**이다.
* “주문 테이블의 고객_id” 같은 게 FK가 된다.

---

## 4) DBMS / RDBMS는 “관리 프로그램”이라고 생각하면 된다

* **DBMS(Database Management System)**는 데이터베이스를 관리하는 소프트웨어(프로그램)다.
* 그중에서도 관계형 데이터베이스를 관리하는 DBMS를 **RDBMS**라고 부른다.
* 예시로 SQLite 같은 것이 언급된다.

---

## 5) SQL은 “데이터베이스에게 말하는 언어”다

**SQL(Structured Query Language)**은 관계형 DB에서 데이터를 다루기 위해 쓰는 언어다. 테이블 형태의 데이터를 기준으로, “어떤 데이터를 어떤 조건으로 어떤 형태로 가져올지”를 문장으로 작성한다.

SQL의 기본 문장 틀은 아래처럼 생겼다.

```sql
SELECT column_name
FROM table_name;
```

---

## 6) SQL 문장 종류는 “역할”로 구분한다

SQL 문장은 목적에 따라 크게 분류된다. (시험/면접에서도 자주 물어본다.)

* **DQL**: 조회(SELECT) 중심
* **DDL**: 구조 생성/변경(CREATE, ALTER, DROP 등)
* **DML**: 데이터 조작(INSERT, UPDATE, DELETE 등)
* **DCL/TCL**: 권한/트랜잭션 관련(COMMIT, ROLLBACK 등)

이 문서에서는 주로 **DQL(조회)** 을 다룬다.

---

# 7) DQL 핵심: SELECT는 “조회 파이프라인”이다

## 7-1) SELECT 기본 구조를 머리에 고정해야 한다

SELECT의 핵심 구조는 아래처럼 이해하면 된다.

```sql
SELECT  select_list
FROM    table_name;
```

* `FROM`: 어디 테이블에서 가져올지 정한다
* `SELECT`: 그중 어떤 컬럼(열)을 꺼낼지 정한다

실습 예시로 employees 테이블에서 `LastName`을 조회하는 형태가 나온다.

## 7-2) `*`는 “모든 컬럼”이지만 습관적으로 쓰면 위험해진다

```sql
SELECT * 
FROM employees;
```

이렇게 하면 컬럼이 많아질수록 불필요한 데이터까지 한 번에 가져오게 된다. 연습 단계에서는 편하지만, 실제 서비스에서는 필요한 컬럼만 선택하는 습관이 중요하다. (네트워크/성능/가독성 측면에서 손해가 커지기 때문이다.)

## 7-3) 별칭(alias)은 “출력 컬럼 이름 바꾸기”다

예시처럼 컬럼에 이름을 붙여서 결과를 보기 좋게 만들 수 있다.

```sql
SELECT FirstName AS "이름"
FROM employees;
```

---

# 8) 정렬: ORDER BY는 결과를 “보기 좋게” 만드는 단계다

정렬은 조회 결과의 순서를 정한다. 기본 문법은 다음 형태다.

```sql
SELECT ...
FROM ...
ORDER BY column1 [ASC|DESC], column2 [ASC|DESC];
```

* `ASC`는 오름차순(기본값)이다
* `DESC`는 내림차순이다

여러 기준으로 정렬도 가능하다. 예시로 `Country`로 내림차순 정렬하고, 같은 Country 안에서는 `City`로 추가 정렬하는 형태가 제시된다.

### NULL 정렬 감각도 중요하다

NULL이 섞여 있으면 DB는 NULL을 따로 취급한다. “NULL은 값이 없다”는 뜻이라서, 비교/정렬에서 헷갈리기 쉬운 포인트가 된다.

---

# 9) 필터링: DISTINCT와 WHERE는 “중복 제거”와 “조건 걸기”다

## 9-1) DISTINCT: 같은 값은 한 번만 보여준다

`DISTINCT`는 SELECT 결과에서 **중복을 제거**한다. 국가 목록처럼 “종류”만 보고 싶을 때 유용하다.

```sql
SELECT DISTINCT Country
FROM customers;
```

## 9-2) WHERE: 조건을 만족하는 행만 남긴다

WHERE는 “행 필터”다. 즉, 레코드(행)를 조건으로 걸러낸다. 기본 형태는 다음이다.

```sql
SELECT ...
FROM ...
WHERE search_condition;
```

예시로 `City = 'Prague'` 같은 조건이 나온다.

### AND / OR 감각

* `AND`: 조건을 **모두** 만족해야 통과다
* `OR`: 조건 중 **하나라도** 만족하면 통과다

### IS NULL은 “비어있음(미정)”을 잡는 문법이다

NULL은 “0”이나 “빈 문자열”이 아니라 **값 자체가 없음**이다.
그래서 `= NULL` 같은 비교가 아니라 `IS NULL`을 써야 한다. 예시로 회사 정보가 NULL인 고객을 찾는 쿼리가 제시된다.

---

# 10) SELECT가 실행되는 “흐름”을 알면 실수가 줄어든다

SELECT는 눈에 보이는 작성 순서와, 데이터가 처리되는 논리 흐름을 같이 잡아야 한다.
문서에서 제시된 실행 흐름은 “FROM → SELECT → ORDER BY” 순서로 정리된다.

이렇게 이해하면 왜 `ORDER BY`가 맨 마지막에 오는지 감이 온다.

* 먼저 테이블에서 꺼내고(FROM)
* 그중 필요한 컬럼을 고른 다음(SELECT)
* 최종 결과를 정렬한다(ORDER BY)

---

# 11) (다음 단계 맛보기) LIMIT, GROUP BY, HAVING은 “결과를 다듬는 도구”다

문서 뒷부분에서 LIMIT / GROUP BY / HAVING이 이어진다.
여기부터는 조회가 “표를 읽는 수준”에서 “통계/요약”으로 확장되는 구간이다.

* **LIMIT**: 결과를 위에서 N개만 자른다

  * 예: “상위 10개만 보기” 같은 상황에 쓴다

* **GROUP BY**: 같은 값끼리 묶어서 집계한다

  * 예: “나라별 고객 수”, “도시별 주문 건수” 같은 요약을 만든다

* **HAVING**: GROUP BY로 묶은 “그룹 결과”에 조건을 건다

  * WHERE는 “행”에 조건을 거는 것이고
  * HAVING은 “그룹(집계 결과)”에 조건을 거는 것이라고 구분하면 된다

---

# 12) 오늘 정리

* 관계형 DB는 테이블과 관계(PK/FK)로 데이터를 조직하는 방식임을 이해한다.
* 테이블/컬럼/행/스키마/PK/FK 6개 용어를 구분한다.
* SELECT의 기본 구조(SELECT ~ FROM ~)를 외운다.
* 정렬은 ORDER BY, 중복 제거는 DISTINCT, 조건 필터는 WHERE라는 역할 분담을 기억한다.
* NULL은 “값이 없음”이므로 IS NULL로 잡아야 한다.

---
